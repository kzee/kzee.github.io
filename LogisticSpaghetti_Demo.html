<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Spaghetti Plot for Multilevel Logistic Regression</title>

<script src="site_libs/header-attrs-2.12/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/paper.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Katherine S. Zee</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="publications.html">Publications</a>
</li>
<li>
  <a href="rcode.html">R Code</a>
</li>
<li>
  <a href="research.html">Academic Research</a>
</li>
<li>
  <a href="teaching.html">Teaching</a>
</li>
<li>
  <a href="files/KatherineZeeCV.pdf">CV</a>
</li>
<li>
  <a href="contact.html">Connect</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Spaghetti Plot for Multilevel Logistic
Regression</h1>

</div>

<div id="TOC">
<ul>
<li><a href="#overview" id="toc-overview">Overview</a></li>
<li><a href="#read-in-data" id="toc-read-in-data">Read in Data</a></li>
<li><a href="#load-libraries" id="toc-load-libraries">Load
Libraries</a></li>
<li><a href="#fit-model" id="toc-fit-model">Fit Model</a></li>
<li><a href="#generate-predictions"
id="toc-generate-predictions">Generate Predictions</a>
<ul>
<li><a href="#create-a-new-dataframe"
id="toc-create-a-new-dataframe">Create a new dataframe</a></li>
<li><a href="#use-new-dataframe-to-generate-fitted-values"
id="toc-use-new-dataframe-to-generate-fitted-values">Use new dataframe
to generate fitted values</a></li>
<li><a href="#obtain-the-fixed-effect"
id="toc-obtain-the-fixed-effect">Obtain the Fixed effect</a></li>
</ul></li>
<li><a href="#plot-the-results" id="toc-plot-the-results">Plot the
Results</a>
<ul>
<li><a href="#plot-individual-specific-effects"
id="toc-plot-individual-specific-effects">Plot Individual Specific
Effects</a></li>
<li><a href="#add-in-fixed-average-effect"
id="toc-add-in-fixed-average-effect">Add in Fixed (Average)
Effect</a></li>
</ul></li>
<li><a href="#interpolate-data" id="toc-interpolate-data">Interpolate
Data</a></li>
<li><a href="#side-by-side-comparison"
id="toc-side-by-side-comparison">Side by Side Comparison</a></li>
</ul>
</div>

<p><font size="3"></p>
<div id="overview" class="section level1">
<h1>Overview</h1>
<p>This demo shows how to create a spaghetti plot of individual-specific
effects from a multilevel logistic model.</p>
<p>We will use Ch. 6 data from Bolger &amp; Laurenceau’s <em>Intensive
Longitudinal Methods</em> book. In this chapter, the authors used the
example of the potential effect of a female partner’s morning anger
(<code>amangcw</code>) on her male partner’s report of conflict
(<code>pconf</code>; yes/no) later that evening. We will fit a similar
model to the model presented in the book, except we will use Bayesian
estimation. Using a Bayesian model will allow us to model random
slopes.</p>
<p><br></p>
</div>
<div id="read-in-data" class="section level1">
<h1>Read in Data</h1>
<p>We will read in the data directly from the <em>Intensive Longitudinal
Methods</em> <a
href="http://www.intensivelongitudinal.com/">website</a>.</p>
<pre class="r"><code>library(data.table)
c &lt;- as.data.frame(
  fread(&quot;curl http://www.intensivelongitudinal.com/ch6/ch6R.zip | tar -xf- --to-stdout *categorical.csv&quot;)
)

head(c)</code></pre>
<pre><code>##   id time    time7c pconf lpconf    lpconfc     amang     amangc    amangcb
## 1  1    2 -1.875699     0      0 -0.1568773 0.4166667 -0.0697026 -0.4709372
## 2  1    3 -1.727551     0      0 -0.1568773 0.0000000 -0.4863693 -0.4709372
## 3  1    4 -1.579402     0      0 -0.1568773 0.0000000 -0.4863693 -0.4709372
## 4  1    5 -1.431254     0      0 -0.1568773 0.0000000 -0.4863693 -0.4709372
## 5  1    6 -1.283106     1      0 -0.1568773 0.0000000 -0.4863693 -0.4709372
## 6  1    7 -1.134958     0      1  0.8431227 0.0000000 -0.4863693 -0.4709372
##      amangcw
## 1  0.4012346
## 2 -0.0154321
## 3 -0.0154321
## 4 -0.0154321
## 5 -0.0154321
## 6 -0.0154321</code></pre>
<p><br></p>
</div>
<div id="load-libraries" class="section level1">
<h1>Load Libraries</h1>
<pre class="r"><code>library(brms)
library(ggplot2)
library(dplyr)</code></pre>
<p><br></p>
</div>
<div id="fit-model" class="section level1">
<h1>Fit Model</h1>
<pre class="r"><code>catmod1B &lt;- brm(pconf ~ amangcw + amangcb + lpconfc + time7c + 
                (amangcw | id), 
              family = bernoulli, 
              data = c, cores=4) </code></pre>
<pre class="r"><code>summary(catmod1B)</code></pre>
<pre><code>##  Family: bernoulli 
##   Links: mu = logit 
## Formula: pconf ~ amangcw + amangcb + lpconfc + time7c + (amangcw | id) 
##    Data: c (Number of observations: 1345) 
##   Draws: 4 chains, each with iter = 2000; warmup = 1000; thin = 1;
##          total post-warmup draws = 4000
## 
## Group-Level Effects: 
## ~id (Number of levels: 61) 
##                        Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS
## sd(Intercept)              0.56      0.13     0.32     0.83 1.00     1507
## sd(amangcw)                0.38      0.19     0.05     0.76 1.00     1085
## cor(Intercept,amangcw)     0.68      0.29    -0.07     0.99 1.00     1557
##                        Tail_ESS
## sd(Intercept)              1955
## sd(amangcw)                1002
## cor(Intercept,amangcw)     1851
## 
## Population-Level Effects: 
##           Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS
## Intercept    -1.93      0.12    -2.17    -1.71 1.00     2315     2075
## amangcw       0.12      0.12    -0.16     0.33 1.00     2062     1822
## amangcb      -0.23      0.24    -0.71     0.22 1.00     3135     2835
## lpconfc       0.26      0.21    -0.16     0.68 1.00     3332     2750
## time7c       -0.20      0.07    -0.34    -0.05 1.00     4326     2388
## 
## Draws were sampled using sampling(NUTS). For each parameter, Bulk_ESS
## and Tail_ESS are effective sample size measures, and Rhat is the potential
## scale reduction factor on split chains (at convergence, Rhat = 1).</code></pre>
<p><br></p>
</div>
<div id="generate-predictions" class="section level1">
<h1>Generate Predictions</h1>
<p><br></p>
<div id="create-a-new-dataframe" class="section level2">
<h2>Create a new dataframe</h2>
<pre class="r"><code>df1 &lt;- dplyr::select(c, id, amang, amangcw, pconf) 
df1$amangcb &lt;- 0
df1$time7c &lt;- 0
df1$lpconfc &lt;- 0</code></pre>
<p><br></p>
</div>
<div id="use-new-dataframe-to-generate-fitted-values"
class="section level2">
<h2>Use new dataframe to generate fitted values</h2>
<pre class="r"><code>fitdf1 &lt;- cbind(df1, fitted(catmod1B, newdata = df1, re_formula = NULL,  incl_autocor = F)) </code></pre>
<p><br></p>
</div>
<div id="obtain-the-fixed-effect" class="section level2">
<h2>Obtain the Fixed effect</h2>
<pre class="r"><code>x &lt;- data.frame(amangc = seq(min(c$amangc), max(c$amangc), by = .1),
                amang = seq(min(c$amang), max(c$amang), by = .1))

x$predM &lt;-(1/(1 + exp(-(fixef(catmod1B)[&quot;Intercept&quot;, &quot;Estimate&quot;] + 
                          fixef(catmod1B)[&quot;amangcw&quot;, &quot;Estimate&quot;]*x$amangc))))</code></pre>
<p><br></p>
</div>
</div>
<div id="plot-the-results" class="section level1">
<h1>Plot the Results</h1>
<p><br></p>
<div id="plot-individual-specific-effects" class="section level2">
<h2>Plot Individual Specific Effects</h2>
<pre class="r"><code>catspag0 &lt;- ggplot(fitdf1, aes(amang, Estimate, group = id)) + 
  theme_bw() + 
  geom_line() + 
  ylab(&quot;Male Report of Conflict&quot;) + 
  xlab(&quot;Female Morning Anger&quot;) +
  scale_y_continuous(breaks = c(0, .5, 1))  
catspag0</code></pre>
<p><img src="LogisticSpaghetti_Demo_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p><br></p>
</div>
<div id="add-in-fixed-average-effect" class="section level2">
<h2>Add in Fixed (Average) Effect</h2>
<pre class="r"><code>catspag0 + geom_line(data = x, aes(amang, predM, group = NULL), 
            color = &quot;blue&quot;,
            size = 2)</code></pre>
<p><img src="LogisticSpaghetti_Demo_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p><br></p>
<p>So we have our plot. It’s not bad, but it’s not great either. The
individual-specific lines look a bit spikey, and one even looks crooked.
We are missing that smooth, sigmoidal shape that characterizes logistic
regression effects.</p>
<p>The reason for this is that we need to add more values for each
person in order to properly display their effect. As of now, ggplot
simply connects the points available, resulting in effects that appear
too linear or kinked in some way.</p>
<p><br></p>
</div>
</div>
<div id="interpolate-data" class="section level1">
<h1>Interpolate Data</h1>
<p>To remedy the “spikey” way our spaghetti plot looks, we will need to
interpolate data. To be clear, we are NOT adding more data to the model;
the model only uses our actual observations to generate estimates.
Instead, we are just filling in more datapoints for the purposes of
plotting, and we will do this only within each subject’s observed range.
In other words, we will not add data that is fall outside of each
person’s mininum observed value or maximum observed value.</p>
<p>To accomplish this, we will need to create a new dataframe, called
<code>df2</code>. We will begin by setting this dataframe to
<code>NULL</code> so that it is just a placeholder waiting to “catch”
the data we will populate it with.</p>
<p>Next, we will set up a for loop in which we will ask R to take each
subject’s minimum and maximum observed value, and generate values within
that range in small increments, in this case increments of .05 (as shown
with the <code>seq()</code> function). This will enable us to have a
high degree of granularity so that our curves will be smooth when we
plot them. We will also need to set other variables to 0, as they were
mean centered in our model.</p>
<pre class="r"><code>df2 &lt;- NULL
for (i in unique(c$id)) {
  cseq &lt;- data.frame(
  amangcw = seq(min(subset(c, id==i)$amangcw, na.rm=T), 
               max(subset(c, id==i)$amangcw, na.rm=T), .05), 
  amang = seq(min(subset(c, id==i)$amang, na.rm=T), 
               max(subset(c, id==i)$amang, na.rm=T), .05), 
  amangc = seq(min(subset(c, id==i)$amangc, na.rm=T), 
              max(subset(c, id==i)$amangc, na.rm=T), .05), 
  amangcb = 0, 
  lpconfc = 0, 
  time7c = 0, 
  id = i)
  df2 &lt;- rbind(df2, cseq)
}</code></pre>
<p><br></p>
<p>Now we have a very fine-grained version of our dataframe.</p>
<pre class="r"><code>head(df2)</code></pre>
<pre><code>##      amangcw amang     amangc amangcb lpconfc time7c id
## 1 -0.0154321  0.00 -0.4863693       0       0      0  1
## 2  0.0345679  0.05 -0.4363693       0       0      0  1
## 3  0.0845679  0.10 -0.3863693       0       0      0  1
## 4  0.1345679  0.15 -0.3363693       0       0      0  1
## 5  0.1845679  0.20 -0.2863693       0       0      0  1
## 6  0.2345679  0.25 -0.2363693       0       0      0  1</code></pre>
<p><br></p>
<p>Next, we will use the <code>fitted()</code> function to generate
fitted values using this new, fine-grained dataframe. As noted in my
Plotting Fixed Effects demo, the <code>brms</code> package that we used
to fit our model features both <code>fitted()</code> and
<code>predict()</code> to generate model predictions, but these function
do slightly different things. We will use <code>fitted()</code> here;
however, we would get the same thing using <code>predict()</code> in
this case because we are not including uncertainty (i.e., credibility
intervals) in these plots.</p>
<p>We will create a new dataframe, <code>cseqpred</code>, in which we
will take our new dataframe, <code>interp</code>, and append to it the
model predicted values.</p>
<pre class="r"><code>fitdf2 &lt;- cbind(df2, fitted(catmod1B, newdata = df2, re_formula=NULL, incl_autocor = F))
head(fitdf2)</code></pre>
<pre><code>##      amangcw amang     amangc amangcb lpconfc time7c id  Estimate  Est.Error
## 1 -0.0154321  0.00 -0.4863693       0       0      0  1 0.1018272 0.03788152
## 2  0.0345679  0.05 -0.4363693       0       0      0  1 0.1019568 0.03875355
## 3  0.0845679  0.10 -0.3863693       0       0      0  1 0.1021133 0.03969056
## 4  0.1345679  0.15 -0.3363693       0       0      0  1 0.1022963 0.04068934
## 5  0.1845679  0.20 -0.2863693       0       0      0  1 0.1025056 0.04174707
## 6  0.2345679  0.25 -0.2363693       0       0      0  1 0.1027410 0.04286125
##         Q2.5     Q97.5
## 1 0.04211750 0.1864994
## 2 0.04077566 0.1891980
## 3 0.03989357 0.1921299
## 4 0.03868077 0.1960297
## 5 0.03765638 0.1993833
## 6 0.03688834 0.2033106</code></pre>
<p><br></p>
<p>Now, we can create a plot very similar to our prior plot, but we will
instead use our more fine-grained dataset so we get that sigmoidal curve
we are after.</p>
<pre class="r"><code>catspag &lt;- ggplot(fitdf2, aes(amang, Estimate, group = id)) + 
  ylab(&quot;Male Report of Conflict&quot;) + 
  xlab(&quot;Female Morning Anger&quot;) +
  theme_bw() +  
  scale_y_continuous(breaks = c(0, .5, 1)) +
  geom_line() + 
  geom_line(data = x, aes(amang, predM, group = NULL), 
            color = &quot;blue&quot;,
            size = 2) 
catspag</code></pre>
<p><img src="LogisticSpaghetti_Demo_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p><br></p>
<p>That looks a lot better!</p>
<p><br></p>
</div>
<div id="side-by-side-comparison" class="section level1">
<h1>Side by Side Comparison</h1>
<p>As a final step, let’s compare these two plots side by side so we can
see how using the interpolated data has improved our plot.</p>
<pre class="r"><code>library(gridExtra)
grid.arrange(catspag0 + geom_line(data = x, aes(amang, predM, group = NULL), 
            color = &quot;blue&quot;,
            size = 2) + labs(title = &quot;Without Interpolated Data&quot;), 
            
            catspag + labs(title = &quot;With Interpolated Data&quot;), ncol = 2)</code></pre>
<p><img src="LogisticSpaghetti_Demo_files/figure-html/side%20by%20side%20plots-1.png" width="672" /></p>
<p></font></p>
<p><br> <font size="2"> <a
href="/Users/zeekatherine/Desktop/WorkSchool/kzee.github.io/LogisticSpaghetti_Demo.Rmd"
target="_blank"><em>View .Rmd source code</em></a> </font></p>
<p><font size="2"> <em>updated April 22, 2019</em> </font></p>
</div>

<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>footer2.knit</title>

<script src="site_libs/header-attrs-2.12/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/paper.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Katherine S. Zee</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="publications.html">Publications</a>
</li>
<li>
  <a href="rcode.html">R Code</a>
</li>
<li>
  <a href="research.html">Academic Research</a>
</li>
<li>
  <a href="teaching.html">Teaching</a>
</li>
<li>
  <a href="files/KatherineZeeCV.pdf">CV</a>
</li>
<li>
  <a href="contact.html">Connect</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">




</div>


<p><font size="2"></p>
 
<hr />
<!-- Add icon library -->
<p><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"></p>
<p><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous"></p>
<p><link rel="stylesheet" href="https://cdn.rawgit.com/jpswalsh/academicons/master/css/academicons.min.css"></p>
<!-- Add font awesome icons -->
<p style="text-align: center;">
<a href="https://www.linkedin.com/in/zeekatherine/" target="_blank" class="fab fa-linkedin"></a>
<a href="https://github.com/kzee/" target="_blank" class="fab fa-github"></a>
<a href="https://osf.io/g579q" target="_blank" class="ai ai-osf ai-1x"></a>
<a href="https://www.researchgate.net/profile/Katherine_Zee" target="_blank" class="fab fa-researchgate"></a>
</p>
<font size="2">
<p style="text-align: center;">
<span style="color: #808080;">The material above reflects the best of my
knowledge on this topic. Please be sure to check your results and code
carefully.</span>
</p>
<p></font></p>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
